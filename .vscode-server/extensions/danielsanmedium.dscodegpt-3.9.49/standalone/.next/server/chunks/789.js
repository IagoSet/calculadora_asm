try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="cde0a98b-61db-48eb-ad5d-9752b77c3be1",e._sentryDebugIdIdentifier="sentry-dbid-cde0a98b-61db-48eb-ad5d-9752b77c3be1")}catch(e){}"use strict";exports.id=789,exports.ids=[789],exports.modules={20789:(e,n,i)=>{i.r(n),i.d(n,{fromTokenFile:()=>l,fromWebToken:()=>d});var o=i(30675),r=i(68696),t=i(92048);let d=e=>async n=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:o,roleSessionName:r,webIdentityToken:t,providerId:d,policyArns:s,policy:l,durationSeconds:a}=e,{roleAssumerWithWebIdentity:b}=e;if(!b){let{getDefaultRoleAssumerWithWebIdentity:o}=await i.e(6375).then(i.bind(i,26375));b=o({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...n?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return b({RoleArn:o,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:t,ProviderId:d,PolicyArns:s,Policy:l,DurationSeconds:a})},s="AWS_WEB_IDENTITY_TOKEN_FILE",l=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let n=e?.webIdentityTokenFile??process.env[s],i=e?.roleArn??process.env.AWS_ROLE_ARN,l=e?.roleSessionName??process.env.AWS_ROLE_SESSION_NAME;if(!n||!i)throw new r.mV("Web identity configuration not specified",{logger:e.logger});let a=await d({...e,webIdentityToken:(0,t.readFileSync)(n,{encoding:"ascii"}),roleArn:i,roleSessionName:l})();return n===process.env[s]&&(0,o.P)(a,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),a}}};
//# sourceMappingURL=789.js.map